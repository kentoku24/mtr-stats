# pingコマンドラッパー設計書

## 概要
本ツールは、指定したホストに対してpingコマンドを1回実行し、応答時間が500ms以下であれば「成功」と判定し、500msを超える場合や応答がない場合は「失敗」と判定します。結果は指定のフォーマットで標準出力に出力します。

## 出力フォーマット

```
{リクエスト開始時刻} {成功時はms それ以外はnull}
```

- リクエスト開始時刻: ISO 8601形式（例: 2025-05-22T12:34:56.789Z）
- ms: 成功時は応答時間（整数, ms単位）、失敗時は null

## 仕様

### 入力
- 対象ホスト（IPアドレスまたはホスト名）

### 処理フロー
1. 現在時刻（リクエスト開始時刻）を取得
2. pingコマンドを1回実行（`ping -c 5 -i 0.01 -W 0.3 <host>` を使用）
3. 応答時間を取得
   - 応答がなければ失敗
   - 応答時間が500ms以下なら成功、超えていれば失敗
4. 結果を指定フォーマットで出力

### 出力例

- 成功時:
  ```
  2025-05-22T12:34:56.789Z 23
  ```
- 失敗時:
  ```
  2025-05-22T12:34:56.789Z null
  ```

## エラー処理
- pingコマンドが失敗した場合（タイムアウト、到達不可等）は「失敗」とし、msはnullとする

## 実装方針
- シェルスクリプトまたはPythonで実装
- 標準出力に結果を出力
- pingコマンドは `ping -c 5 -i 0.01 -W 0.5 <host>` を使う

## 拡張性
- 複数回pingや閾値変更など、将来的な拡張を考慮し関数化

---

ご要望に応じて、実装言語や詳細設計もご提案可能です。
